{"ast":null,"code":"const Database = require('./database/db');\n\nconst saveData = require('./database/saveData');\n\nexport default (async (req, res) => {\n  const name = req.body.name;\n  const ip = req.body.ip;\n\n  try {\n    const db = await Database;\n    await saveData(db, {\n      name: name,\n      ip: ip\n    });\n    const dbColector = await db.all(\"SELECT * FROM rooms\");\n    console.log(dbColector);\n    return res.send('Successful');\n  } catch (error) {\n    console.log(error);\n    return res.send('Erro no banco de dados');\n  }\n});","map":{"version":3,"sources":["C:/Users/lucas.mazur/OneDrive/Criando um site/homeAutomation/pages/api/savedata.ts"],"names":["Database","require","saveData","req","res","name","body","ip","db","dbColector","all","console","log","send","error"],"mappings":"AACA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,eAAD,CAAxB;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,qBAAD,CAAxB;;AAEA,gBAAe,OAAOE,GAAP,EAAwBC,GAAxB,KAA6C;AACxD,QAAMC,IAAI,GAAGF,GAAG,CAACG,IAAJ,CAASD,IAAtB;AACA,QAAME,EAAE,GAAGJ,GAAG,CAACG,IAAJ,CAASC,EAApB;;AACA,MAAI;AACA,UAAMC,EAAE,GAAG,MAAMR,QAAjB;AACA,UAAME,QAAQ,CAACM,EAAD,EAAK;AACfH,MAAAA,IAAI,EAAEA,IADS;AAEfE,MAAAA,EAAE,EAAEA;AAFW,KAAL,CAAd;AAIA,UAAME,UAAU,GAAG,MAAMD,EAAE,CAACE,GAAH,CAAO,qBAAP,CAAzB;AACIC,IAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ;AACJ,WAAOL,GAAG,CAACS,IAAJ,CAAS,YAAT,CAAP;AACH,GATD,CASE,OAAOC,KAAP,EAAc;AACZH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACA,WAAOV,GAAG,CAACS,IAAJ,CAAS,wBAAT,CAAP;AACH;AACJ,CAhBD","sourcesContent":["import { NowRequest, NowResponse } from '@vercel/node'\r\nconst Database = require('./database/db')\r\nconst saveData = require('./database/saveData')\r\n\r\nexport default async (req: NowRequest, res: NowResponse) => {\r\n    const name = req.body.name\r\n    const ip = req.body.ip\r\n    try {\r\n        const db = await Database;\r\n        await saveData(db, {\r\n            name: name,\r\n            ip: ip\r\n        })\r\n        const dbColector = await db.all(\"SELECT * FROM rooms\")\r\n            console.log(dbColector)\r\n        return res.send('Successful')\r\n    } catch (error) {\r\n        console.log(error)\r\n        return res.send('Erro no banco de dados') \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}